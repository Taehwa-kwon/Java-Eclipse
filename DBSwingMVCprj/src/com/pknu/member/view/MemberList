package com.pknu.member.view;

import java.awt.BorderLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.Vector;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.JTable;
import javax.swing.table.DefaultTableModel;

import com.pknu.member.dao.MemberDao;

public class MemberList extends JFrame implements ActionListener{ //다중 상속가능 || 왜 인터페이스를 하는지. 매번 이벤트를 받을때마다 다 다른 행동을 하려고, 
		// + add unimplements 를 해준다. 
	Vector v;
	Vector<String> colnames;	//제목줄을 
	

	DefaultTableModel model;
	//추가할 컴포넌트 목록 
	JTable jt;
	JScrollPane pane;
	JPanel jpanel;
	JButton btnInsert;
	
	
		public MemberList() {
			super("회원관리 프로그램 ver 1.0");
			
			initComponent(); //컴포넌트 배치
			
			//화면크기 조정 
			this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
			this.setSize(600,600);
			this.setVisible(true);
			this.setLocationRelativeTo(null); // 프레임 실행시 위치 중앙
		}
		//부품배치
		private void initComponent() {
			//제목줄
			colnames = getColumnNames();
			
			MemberDao mDao = new MemberDao();
			v= mDao.getMemberList("");
			
			model = new DefaultTableModel(v,colnames); //v : vector data 집합 
			
			jt = new JTable(model);
			pane = new JScrollPane(jt);
			this.add(pane);
			
			
			//화면상단에 회원가입 버튼
			jpanel = new JPanel();
			btnInsert = new JButton("회원가입");
			jpanel.add(btnInsert);
			this.add(jpanel,BorderLayout.NORTH);
			
			//회원가입 버튼을 누르면 이벤트 작동
			btnInsert.addActionListener(this);// 이벤트 처리를 내 객체에게~ this가 //addActionListener을  사용하려면 반드시 implement하여야 한다.
			
			
			
		}
		//JTable에 제목줄 설정 //Swing에서는 벡터를 꼭 써야함 . ArrayList, Vector 은 list의 일종으로 동적배열 
		private Vector<String> getColumnNames() {
			Vector<String>titles = new Vector<String>();
			titles.add("아이디");
			titles.add("암호");
			titles.add("이름");
			titles.add("직업");
			titles.add("성별");
			titles.add("자기소개");
			titles.add("가입일");
			
			
			
			return titles;
		}
		public static void main(String [] args) {
			new MemberList();
	}
		
		//btnInsert를 클릭하였을때 수행할 명령 작성하는 곳 
		@Override
		public void actionPerformed(ActionEvent e) {
			if(e.getSource()==btnInsert) {
				System.out.println("버튼을 클릭했습니다. ");
				new MemberProc(this);
			
			
			}
			
		}

}
